;function swtch(e,t){return typeof e=="string"||typeof e=="number"?t[e]?t[e]:t["default"]||e:typeof e=="object"?function(){var n=e instanceof Array?[]:{},r;if(e.constructor===RegExp)for(r in t)t.hasOwnProperty(r)&&e.test(r)&&(n[r]=t[r]);else for(r in e)if(e.hasOwnProperty(r))n[r]=swtch(e[r],t);return n}():typeof e=="function"?swtch(e(),t):e}(function(e){e.fn.uCarousel=function(t){return this.each(function(){var r=e(this),i=r.data("uCarousel")||{axis:"x",show:3,step:1,rows:1,curr:0,shift:0,itms:[],clickable:false,retFalse:true,pageStep:3,duration:1e3,easing:"swing",activeClass:"active",buttonClass:"button",blockAtEnd:true,fu:{pre:function(){i.axis=i.axis=="x";i.ul=e(">ul",i.me);i.ul=e(">ul",i.me).css({position:"relative"});i.li=e(">li",i.ul).css({display:"block",position:"absolute"});i.li.each(function(t){i.itms[t]=e(this)}).eq(i.pos=i.n=i.curr).addClass(i.activeClass);i.liW=i.li.width()+parseInt(i.li.css("marginLeft"))+parseInt(i.li.css("marginRight"));i.liH=i.li.height()+parseInt(i.li.css("marginTop"))+parseInt(i.li.css("marginLeft"));i.ul.css({width:i.liW*Math.round(i.itms.length/i.rows),height:i.liH*i.rows});for(var t=n=j=0;t<i.itms.length/i.rows;t++)for(j=0;j<i.rows;j++)if(n>=i.itms.length)break;else i.itms[n++].css({left:i.axis?t*i.liW:j*i.liW,top:i.axis?j*i.liH:t*i.liH});if(i.me.css("position")=="static")i.me.css({position:"relative"});i.me.css({width:i.axis?i.show*i.liW:i.liW*i.rows,height:i.axis?i.liH*i.rows:i.show*i.liH,overflow:"hidden"}).states({states:{other:i.fu.change}})},calc:function(e){e=e<i.itms.length?e>=0?e:i.blockAtEnd?0:i.itms.length-1:i.blockAtEnd?i.itms.length-1:0;i.pos=e;e=e-i.shift*i.rows>=0?e-i.shift*i.rows:0;if(e>i.itms.length-i.show*i.rows)e=i.itms.length-i.show*i.rows;var t={};i.axis?t.left=-i.itms[e].prop("offsetLeft"):t.top=-i.itms[e].prop("offsetTop");return t},change:function(e){if(i.n==e)return false;i.prev=i.n;i.pos=i.n=e<i.itms.length?e>=0?e:i.blockAtEnd?0:i.itms.length-1:i.blockAtEnd?i.itms.length-1:0;i.li.removeClass(i.activeClass).eq(i.n).addClass(i.activeClass);i.fu.move(i.fu.calc(e))},move:function(e){i.ul.stop().animate(e,{duration:i.duration,easing:i.easing})},buttons:function(){e("."+i.buttonClass).each(function(){var t=e(this),n=t.data("type");t.click(function(){swtch(n,{nextPage:function(){i.fu.nextPage()},prevPage:function(){i.fu.prevPage()},next:function(){i.fu.next()},prev:function(){i.fu.prev()},"default":function(){}})();return false})})},nextPage:function(){var e,t;e=i.pos+(i.pageStep||i.show)*i.rows;e=i.pageStep&&e>(t=i.itms.length-i.show*i.rows)?t:e;i.fu.move(i.fu.calc(e))},prevPage:function(){var e,t;e=i.pos-(i.pageStep||i.show)*i.rows;e=i.pageStep&&e<(t=i.show-i.show*i.rows)?t:e;i.fu.move(i.fu.calc(e))},next:function(){i.me.states(i.n+i.step)},prev:function(){i.me.states(i.n-i.step)},clickable:function(){i.clickable&&i.li.each(function(t){var n=e(this),r=e("a",n);(r.length?r:n).click(function(){i.me.states(t);if(i.retFalse)return false})})}},init:function(){i.me=r.data({uCarousel:i});i.fu.pre();i.fu.buttons();i.fu.clickable()}};swtch(typeof t,{object:function(){e.extend(true,i,t)},string:function(){swtch(t,{next:function(){i.fu.next()},prev:function(){i.fu.prev()},"default":function(){}})()},number:function(){r.states(t)},"function":function(){i.me.on("_change",function(){t(i.n,i)})},"default":function(){}})();i.me||i.init()})}})(jQuery);(function(e){e.fn.states=function(t,n){return this.each(function(){var n=e(this),r=n.data("states")||{event:"_change",blockSame:true,states:{},init:function(){r.states["default"]=r.states.other||function(){};r.me=n.data({states:r}).bind(r.event,function(e,t){if(t==r.prev&&r.blockSame)return false;swtch(t,r.states)(t)})}};swtch(typeof t,{object:function(){e.extend(true,r,t)},string:function(){n.trigger(r.event,t)},number:function(){n.trigger(r.event,t)},"default":function(){}})();r.me||r.init()})}})(jQuery)