;(function(e){e.fn.kwicks=function(t){var n={isVertical:false,sticky:false,defaultKwick:0,event:"mouseover",spacing:0,duration:500};var r=e.extend(n,t);var s=r.isVertical?"height":"width";var o=r.isVertical?"top":"left";return this.each(function(){container=e(this);var t=container.children("li");var n=t.eq(0).css(s).replace(/px/,"");if(!r.max){r.max=n*t.size()-r.min*(t.size()-1)}else{r.min=(n*t.size()-r.max)/(t.size()-1)}if(r.isVertical){container.css({width:t.eq(0).css("width"),height:n*t.size()+r.spacing*(t.size()-1)+"px"})}else{container.css({width:n*t.size()+r.spacing*(t.size()-1)+"px",height:t.eq(0).css("height")})}var u=[];for(i=0;i<t.size();i++){u[i]=[];for(j=1;j<t.size()-1;j++){if(i==j){u[i][j]=r.isVertical?j*r.min+j*r.spacing:j*r.min+j*r.spacing}else{u[i][j]=(j<=i?j*r.min:(j-1)*r.min+r.max)+j*r.spacing}}}t.each(function(i){var a=e(this);if(i===0){a.css(o,"0px")}else if(i==t.size()-1){a.css(r.isVertical?"bottom":"right","0px")}else{if(r.sticky){a.css(o,u[r.defaultKwick][i])}else{a.css(o,i*n+i*r.spacing)}}if(r.sticky){if(r.defaultKwick==i){a.css(s,r.max+"px");a.addClass("active")}else{a.css(s,r.min+"px")}}a.css({margin:0,position:"absolute"});a.bind(r.event,function(){var n=[];var f=[];if(e(this).hasClass("active"))return false;else{t.stop().removeClass("active");for(j=0;j<t.size();j++){n[j]=t.eq(j).css(s).replace(/px/,"");f[j]=t.eq(j).css(o).replace(/px/,"")}var l={};l[s]=r.max;var c=r.max-n[i];var p=n[i]/c;a.addClass("active").animate(l,{step:function(e){var a=c!=0?e/c-p:1;t.each(function(e){if(e!=i){t.eq(e).css(s,n[e]-(n[e]-r.min)*a+"px")}if(e>0&&e<t.size()-1){t.eq(e).css(o,f[e]-(f[e]-u[i][e])*a+"px")}})},duration:r.duration,easing:r.easing});e(".kwicks_body").fadeOut(0);e(".active .kwicks_body").delay(500).fadeIn(1e3)}})});if(!r.sticky){container.bind("mouseleave",function(){var e=[];var u=[];t.removeClass("active").stop();for(i=0;i<t.size();i++){e[i]=t.eq(i).css(s).replace(/px/,"");u[i]=t.eq(i).css(o).replace(/px/,"")}var a={};a[s]=n;var f=n-e[0];t.eq(0).animate(a,{step:function(a){var h=f!=0?(a-e[0])/f:1;for(i=1;i<t.size();i++){t.eq(i).css(s,e[i]-(e[i]-n)*h+"px");if(i<t.size()-1){t.eq(i).css(o,u[i]-(u[i]-(i*n+i*r.spacing))*h+"px")}}},duration:r.duration,easing:r.easing})})}})}})(jQuery);